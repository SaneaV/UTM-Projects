# Процесс «Генератор» передает информацию процессу «Обработчик» с помощью файла. Процесс «Обработчик» должен осуществлять следующую обработку новых строк в этом файле: если строка содержит единственный символ «+», то процесс «Обработчик» переключает режим на сложение и ждет ввода численных данных. Если строка содержит единственный символ «*», то обработчик переключает режим на умножение и ждет ввода численных данных. Если строка содержит целое число, то обработчик осуществляет текущую активную операцию (выбранный режим) над текущим значением вычисляемой переменной и считанным значением (например, складывает или перемножает результат предыдущего вычисления со считанным числом). При запуске скрипта режим устанавливается в сложение, а вычисляемая переменная приравнивается к 1. В случае получения строки QUIT скрипт выдает сообщение о плановой остановке и завершает работу. В случае получения любых других значений строки скрипт завершает работу с сообщением об ошибке входных данных.

#!/bin/bash

# Определяем имя файла, в который будут записываться команды для передачи процессу "Обработчик"
file="commands.txt"

# Начало бесконечного цикла, который будет продолжаться до тех пор, пока пользователь не введет команду "QUIT"
while true
do
  # Запрашиваем ввод команды у пользователя
  echo "Введите команду (+, *, число или QUIT для выхода):"
  
  # Читаем введенные пользователем данные в переменную 'input'
  read input
  
  # Записываем введенную команду в файл 'commands.txt'
  echo "$input" >> "$file"
  
  # Проверяем, если пользователь ввел команду "QUIT"
  if [ "$input" == "QUIT" ]; then
    # Если да, то выходим из цикла, чтобы завершить работу генератора
    break
  fi
done

# Сообщаем пользователю о завершении работы генератора
echo "Генератор завершил работу."
