# Процесс «Генератор» считывает строки с консоли, пока ему на вход не поступит строка TERM. В этом случае он посылает системный сигнал SIGTERM процессу обработчику. Процесс «Обработчик» (как и в примере, выводящий в бесконечном цикле натуральное число каждую секунду) должен перехватить системный сигнал SIGTERM и завершить работу, предварительно выведя сообщение о завершении работы по сигналу от другого процесса.

#!/bin/bash

# Запрашиваем PID процесса "Обработчик" от пользователя
# Пользователь должен ввести идентификатор процесса (PID) для отправки сигнала SIGTERM.
echo "Введите PID процесса обработчика:"
read handler_pid

# Бесконечный цикл для чтения команд с консоли
# Этот цикл продолжается до тех пор, пока не будет введена команда TERM.
while true
do
  # Запрашиваем у пользователя ввод команды
  echo "Введите команду (TERM для завершения обработчика):"
  read input
  
  # Если введенная команда — TERM, отправляем сигнал SIGTERM процессу обработчику
  if [ "$input" == "TERM" ]; then
    # Команда kill отправляет сигнал SIGTERM процессу с указанным PID
    kill -SIGTERM $handler_pid
    # Выводим сообщение о том, что сигнал отправлен
    echo "Сигнал SIGTERM отправлен процессу с PID $handler_pid"
    # Прерываем цикл, поскольку команда TERM введена
    break
  fi
done

# Выводим сообщение о завершении работы генератора команд
echo "Генератор завершил работу."
